# 스레드

- 프로세스의 실행 가능한 가장 작은 단위

![alt](./image/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80%EB%A9%80%ED%8B%B0%EC%8A%A4%EB%A0%88%EB%93%9C.png)

- 프로세스는 코드, 데이터, 힙을 각각 생성하지만, 스레드는 코드, 데이터, 힙은 서로 공유한다.

- **장점**
  - 스레드를 사용하면 프로세스보다 생성할 때 오버헤드도 적고 공유된 자원에 대해서도 오버헤드가 적다

# 멀티스레딩

- 프로세스 내 작업을 여러 개의 스레드, 멀티스레드로 처리하는 기법
- **장점**
  - 응답성
    - 프로그램의 일부분이 중단되거나 긴 작업을 수행하더라도 프로그램의 수행이 계속되어 사용자에 대한 응답성이 증가한다.
  - 경제성
    - 프로세스 내 자원들과 메모리를 공유하기 때문에 메모리 공간과 시스템 자원 소모가 줄어든다.
    - 스레드 간 통신이 필요한 경우에도 쉽게 데이터를 주고 받을 수 있으며, 프로세스의 context switching과 달리 스레드 간의 context switching은 캐시 메모리를 비울 필요가 없기 때문에 더 빠르다.
  - 동시성
    - 서로 독립적인 작업들을 작은 단위로 나누고 동시에 실행되는 것처럼 보여주는 것
- **단점**
  - **임계 영역(Critical Section)**
    - 둘 이상의 스레드가 동시에 실행하면 문제를 일으키는 코드 블록.
    - 공유하는 자원에 동시에 접근하는 경우, 프로세스와는 달리 스레드는 데이터와 힙 영역을 공유하기 때문에 어떤 스레드가 다른 스레드에서 사용 중인 변수나 자료구조에 접근하여 엉뚱한 값을 읽어오거나 수정할 수 있다.
    - 따라서 동기화가 필요. 동기화 방법에는 뮤텍스와 세마포어가 있다.

![alt](./image/%EC%9B%B9%20%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EC%9D%98%20%EB%A0%8C%EB%8D%94%EB%9F%AC%20%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%A5%BC%20%EC%9D%B4%EB%A3%A8%EB%8A%94%20%EC%8A%A4%EB%A0%88%EB%93%9C.png)

> 예제 ) 웹 브라우저의 렌더러 프로세스
>
> 이 프로세스 내에는 메인 스레드, 워커 스레드, 컴포지터 스레드, 레스터 스레드가 존재합니다.’

## 멀티 스레드 vs 멀티 프로세스

- 멀티 스레드는 멀티 프로세스보다 적은 메모리 공간을 차지하고 문맥 전환이 빠르다는 장점이 있지만, 오류로 인해 하나의 스레드가 종료되면 전체 스레드가 종료될 수도 있다는 점과 동기화 문제를 안고 있습니다.

- 반면 멀티 프로세스 방식은 하나의 프로세스가 죽더라도 다른 프로세스에는 영향을 끼치지 않고 정상적으로 수행된다는 장점이 있지만, 멀티 스레드보다 많은 메모리 공간과 CPU 시간을 차지한다는 단점이 있습니다.

## 멀티 프로세싱과 멀티 프로그래밍의 차이는?

- 멀티 프로세싱은 여러 개의 CPU를 장착하여 동시에 여러 작업을 병렬로 실행하는 방법이고 멀티 프로그래밍은 단일 CPU 상에서 여러 개의 프로그램이 동시에 실행되는 것을 말합니다.
