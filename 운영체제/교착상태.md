# 교착 상태 ( deadlock )

- 두 개 이상의 프로세스들이 서로가 가진 자원을 기다리며 중단된 상태

![교착상태](./image/%EA%B5%90%EC%B0%A9%EC%83%81%ED%83%9C.png)

- 프로세스 A가 프로세스 B의 어떤 자원을 요청할 때 프로세스 B도 프로세스 A가 점유하고 있는 자원을 요청하는 것

## 교착 상태의 원인

- 상호 배제
  - 한 프로세스가 자원을 독점하고 있으며 다른 프로세스들은 접근이 불가능
- 점유 대기
  - 특정 프로세스가 점유한 자원을 다른 프로세스가 요청하는 상태
- 비선점
  - 다른 프로세스의 자원을 강제적으로 가져올 수 없는 것
- 환형 대기
  - 프로세스 A는 프로세스 B의 자원을 요구하고, 프로세스 B는 프로세스 A의 자원을 요구하는 등 서로가 서로의 자원을 요구하는 상황

## 교착 상태의 해결 방법

1. 예방 : 자원을 할당할 때 애초에 위 조건이 성립되지 않도록 설계
2. 회피 : 교착 상태 가능성이 없을 때만 자원을 할당. 은행원 알고리즘 사용.
3. 탐지 : 교착 상태가 발생하면 사이클이 있는지 찾아보고 이에 관련된 프로세스를 한 개씩 지움
4. 복구 : 교착 상태가 발생하면 사용자가 작업을 종료

   → 교착 상태는 매우 드물게 일어나기 때문에 이를 처리하는 비용이 더 커서 현재는 이 체제를 택함.

> 💡 **은행원 알고리즘**
>
> - 프로세스가 자원을 요구할 때 시스템은 자원을 할당한 후에도 안정 상태로 남아있게 되는지를 사전에 검사하여 교착 상태를 회피하는 기법입니다. 안정 상태에 있으면 자원을 할당하고, 그렇지 않으면 다른 프로세스들이 자원을 해지할 때까지 대기합니다.
