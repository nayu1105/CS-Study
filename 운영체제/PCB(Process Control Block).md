> 운영체제에서 프로세스에 대한 메타데이터를 저장한 ‘데이터’이고 프로세스 제어 블록을 말함
>
> 프로세스가 생성되면 운영체제는 해당 PCB를 생성
>
>프로그램이 실행되면 프로세스가 생성
>
> → 프로세스 주소 값들에 스택, 힙 등의 구조를 기반으로 메모리 할당
>
> → 이 프로세스의 메타데이터들이 PCB에 저장되어 관리
>
> ⇒ 프로세스의 중요한 정보를 포함하고 있어서 일반 사용자가 접근하지 못하도록 커널 스택의 가장 앞부분에서 관리
> 

> ➿ 메타데이터
>
>데이터에 관한 구조화된 데이터이자 데이터를 설명하는 작은 데이터
>
>대량의 정보 가운데에서 찾고 있는 정보를 효율적으로 찾아내서 이용하기 위해 일정한 규칙에 따라 콘텐츠에 대해 부여되는 데이터
> 

## PCB의 구조

- 프로세스 스케줄링 상태
    - ‘준비’, ‘일시중단’ 등 프로세스가 CPU에 대한 소유권을 얻은 이후의 상태
- 프로세스 ID
    - 프로세스 ID, 해당 프로세스의 자식 프로세스 ID
- 프로세스 권한
    - 컴퓨터 자원 또는 I/O 디바이스에 대한 권한 정보
- 프로그램 카운터
    - 프로세스에서 실행해야 할 다음 명령어의 주소에 대한 포인터
- CPU 레지스터
    - 프로세스를 실행하기 위해 저장해야 할 레지스터에 대한 정보
- CPU 스케줄링 정보
    - CPU 스케줄러에 의해 중단된 시간 등에 대한 정보
- 계정 정보
    - 프로세스 실행에 사용된 CPU 사용량
    - 실행한 유저의 정보
- I/O 상태 정보
    - 프로세스에 할당된 I/O 디바이스 목록

## 컨텍스트 스위칭 (context switching, 문맥 교환)

- PCB를 교환하는 과정
- 한 프로세스에 할당된 시간이 끝나거나 인터럽트에 의해 발생
- 어떠한 시점에서 실행되고 있는 프로세스는 단 한 개
- 많은 프로세스가 동시에 구동되는 것처럼 보이는 것은 다른 프로세스와의 컨텍스트 스위칭이 아주 빠른 속도로 실행되기 때문
- 싱글코어 기준으로 설명

![스크린샷 2023-03-09 00.44.50.png](./image/%EB%AC%B8%EB%A7%A5%20%EA%B5%90%ED%99%98.png)

- 유휴 시간(idle time) 발생

### 비용 : 캐시미스

- 컨텍스트 스위칭이 일어날 때 프로세스가 가지고 있는 메모리 주소가 그대로 있으면 잘못된 주소 변환이 생김
    - 캐시클리어 과정을 겪게 됨
    - 이 때문에 캐시미스 발생

### 스레드에서의 컨텍스트 스위칭

- 스레드는 스택 영역을 제외한 모든 메모리 공유
    - 스레드 컨텍스트 스위칭의 경우
        - 비용이 더 적고 시간도 더 적게 걸림